# CLI-приложение для формирования отчёта по ВВП

## Описание

Данный проект представляет собой консольное приложение на Python, которое обрабатывает CSV-файлы с экономическими данными и формирует отчёт по среднему значению ВВП (GDP) для каждой страны.

Программа принимает один или несколько CSV-файлов, объединяет данные и выводит результат в виде таблицы, отсортированной по убыванию среднего значения ВВП.

В настоящий момент реализован один тип отчёта:

- `average-gdp` — вычисление среднего значения ВВП по странам.

При разработке использовались только стандартные библиотеки Python.  
Библиотеки для анализа данных (например, pandas) не применялись.

---

## Требования

- Python 3.10 и выше
- Установленные зависимости из файла `requirements.txt`

Установка зависимостей:

pip install -r requirements.txt

---

## Формат входных данных

CSV-файл должен содержать как минимум следующие столбцы:

country,year,gdp

Пример:

country,year,gdp
United States,2023,25462
China,2023,17963
Germany,2023,4086

Дополнительные столбцы допускаются — в расчётах используются только поля `country` и `gdp`.

---

## Запуск программы

Запуск осуществляется из корневой директории проекта:

python main.py --files example_data/economic1.csv --report average-gdp

Можно передать несколько файлов:

python main.py --files file1.csv file2.csv --report average-gdp

---

## Пример вывода

+----+----------------+----------+
|    | country        |      gdp |
|----+----------------+----------|
|  1 | United States  | 23923.67 |
|  2 | China          | 17810.33 |
|  3 | Japan          |  4467.00 |
+----+----------------+----------+

Результат отображается в виде таблицы и сортируется по убыванию среднего значения ВВП.

---

## Структура проекта

project/
│
├── main.py              # точка входа (CLI)
├── reports.py           # логика формирования отчётов
├── example_data/
│   └── economic1.csv    # пример входных данных
├── tests/
│   └── test_reports.py  # тесты
├── requirements.txt
├── README.md
└── .gitignore

---

## Запуск тестов

Запуск тестов:

pytest

Запуск с проверкой покрытия кода:

pytest --cov=.

---

## Архитектура проекта

- Логика расчётов вынесена в отдельный модуль `reports.py`.
- В `main.py` реализована работа с аргументами командной строки и вывод результата.
- Отчёты хранятся в словаре `REPORTS`, что позволяет при необходимости добавлять новые виды отчётов без изменения основной структуры приложения.
- Тестирование реализовано с использованием pytest.